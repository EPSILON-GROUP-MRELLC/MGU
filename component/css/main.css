:root{
  --bg-light:#f9f9f9; --bg-dark:#121212;
  --card-light:#ffffff; --card-dark:#1e1e1e;
  --text-light:#121212; --text-dark:#f0f0f0;
  --accent-light:#0055cc; --accent-dark:#58a6ff;
  --accent-hover-light:#003f99; --accent-hover-dark:#377bb5;

  /* active vars */
  --bg:var(--bg-dark); --card:var(--card-dark); --text:var(--text-dark);
  --accent:var(--accent-dark); --accent-hover:var(--accent-hover-dark);

  /* layout heights */
  --header-h:64px;
  --nav-h:56px;
}

@media (prefers-color-scheme: light){
  :root{
    --bg:var(--bg-light); --card:var(--card-light); --text:var(--text-light);
    --accent:var(--accent-light); --accent-hover:var(--accent-hover-light);
  }
}
.light{ --bg:var(--bg-light); --card:var(--card-light); --text:var(--text-light); --accent:var(--accent-light); --accent-hover:var(--accent-hover-light); }
.dark { --bg:var(--bg-dark);  --card:var(--card-dark);  --text:var(--text-dark);  --accent:var(--accent-dark);  --accent-hover:var(--accent-hover-dark); }

/* ===== BASE ===== */
*{box-sizing:border-box;margin:0;padding:0}
html{scroll-behavior:smooth}
body{
  font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;
  background:var(--bg); color:var(--text); line-height:1.6;
  /* account for fixed header + nav */
  padding-top:calc(var(--header-h) + var(--nav-h));
}
a{color:var(--accent);text-decoration:none}
a:hover{color:var(--accent-hover);text-decoration:underline}

/* smooth theme transitions */
body, header, nav, footer, main, section {
  transition: background-color .4s ease, color .4s ease;
}

/* Prevent theme flash during init */
.no-flash, .no-flash body, .no-flash nav, .no-flash header, .no-flash main, .no-flash footer {
  transition: none !important;
}

/* ===== HEADER (separate from nav) ===== */
.site-header{
  position:fixed; top:0; left:0; right:0; height:var(--header-h);
  background:var(--card); display:flex; align-items:center;
  padding:0 .75rem; z-index:1100; box-shadow:0 2px 6px rgba(0,0,0,.4);
}
.logo-container{display:flex;align-items:center;gap:.5rem;padding:0 1rem}
.logo-img{max-width:120px;height:auto}
.school-name{font-weight:700;color:var(--accent);text-transform:uppercase;font-size:1.25rem}

/* ===== NAVBAR ===== */
.navbar{
  position:fixed; top:var(--header-h); left:0; right:0; height:var(--nav-h);
  background:var(--card); display:flex; align-items:center; justify-content:flex-end;
  padding:0 1rem; z-index:1000; box-shadow:0 2px 6px rgba(0,0,0,.4);
}

/* hamburger */
.nav-toggle{
  display:none; /* shown on mobile */
  flex-direction:column; gap:.3rem; cursor:pointer; border:none; background:transparent;
  padding:.5rem; margin-left:auto; /* sits at right on mobile */
}
.nav-toggle span{display:block;width:25px;height:3px;background:var(--accent);}

/* desktop links */
.nav-links{
  list-style:none; display:flex; align-items:center; gap:1.25rem; margin-left:auto;
  position:static; /* important: not absolute on desktop */
}
.nav-links li a{font-weight:600;color:var(--text);transition:color .3s ease}
.nav-links li a:hover{color:var(--accent)}

/* theme toggle as a list item */
.theme-item button#theme-toggle{
  background:var(--accent); color:#fff; border:none; border-radius:999px;
  padding:.4rem .9rem; font-size:1.1rem; cursor:pointer;
}

/* ===== MOBILE: turn into topnav dropdown ===== */
@media (max-width: 768px){
  /* show hamburger, hide inline links */
  .nav-toggle{ display:flex; }

  .nav-links{
    position:absolute; /* drop from the fixed nav bar */
    top:100%; left:0; right:0; width:100%;
    background:var(--card);
    display:flex; flex-direction:column; align-items:stretch; gap:0;
    border-top:1px solid rgba(0,0,0,.1);
    /* collapsed state */
    transform:scaleY(0); transform-origin:top; transition:transform .25s ease, opacity .25s ease;
    opacity:0; pointer-events:none;
  }
  .nav-links.show{
    transform:scaleY(1); opacity:1; pointer-events:auto;
  }

  .nav-links li a{
    display:block; padding:1rem; border-top:1px solid rgba(0,0,0,.08);
    text-align:center;
  }

  /* make theme button full-width and at the bottom */
  .nav-links .theme-item{ padding:.75rem 1rem; border-top:1px solid rgba(0,0,0,.08); }
  .nav-links .theme-item button#theme-toggle{ width:100%; }
}
